# Introdução
Este documento visa ser mais explicativo e completo para o pelo entendimento de como funciona o Actions do GitHub e como realizar este Action.

## O que é o GitHub Actions? — Visão técnica real

➡️ O GitHub Actions é um orquestrador de workflows — CI/CD como serviço — embutido no seu repositório GitHub.

O que ele faz de fato?

Sempre que ocorre um evento gatilho (push, pull_request, schedule ou workflow_dispatch), o Actions dispara.

O GitHub cria uma máquina virtual temporária (runner).

Dentro dessa máquina, ele faz:

- Clona seu repositório (actions/checkout).

- Executa seus steps: instalar dependências, rodar testes, buildar, fazer deploy.

Quando tudo termina:

- O runner é desligado e descartado.

- Logs são salvos na aba Actions do seu repositório.

- Você recebe status: ✅ success, ❌ failure, ⚠️ warnings.

Você não paga por servidor extra (exceto se for repositório privado que estourar a cota gratuita).

Você não instala nada localmente para rodar: tudo acontece na nuvem do GitHub.

## O que eu preciso para rodar um workflow?

✔️ Ter um repositório no GitHub.

✔️ Ter pelo menos um arquivo .yml válido dentro de .github/workflows/.

✔️ Definir um on: ➜ O evento que dispara: push, pull_request, schedule ou workflow_dispatch.

💡 Nada mais.

Você não cria servidor, não abre porta, não faz deploy manual de runner.
O hosted runner vem pronto.

O que é um Hosted Runner vs Self-Hosted Runner

| Termo                  | Explicação                                                                                                                                                                       |
| ---------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Hosted Runner**      | Infra do **próprio GitHub** ➜ você não gerencia. É o padrão.                                                                                                                     |
| **Self-Hosted Runner** | Você mesmo cria a máquina (Linux/Windows/macOS) e **registra** ela como runner **vinculado** ao repositório ou organização. Só use se precisar de controle extra ou infra local. |

Para 90% dos casos, Hosted Runner é mais que suficiente.

##  Como eu EXECUTO um workflow?

**Execução automática:**

Geralmente, workflows rodam automaticamente quando ocorre um evento definido no on:

Exemplo:

```yaml
on:
  push:
    branches:
      - main

```

➡️ Quando isso dispara?

Sempre que alguém faz push pra branch main. O GitHub vê isso, cria o runner e executa.

**Execução manual:**

Se o workflow tem:

```yaml
on:
  workflow_dispatch:
```

➡️ Ele exibe um botão “Run workflow” na aba Actions.
Você vai lá, clica e dispara manualmente.
Pode até configurar inputs (parâmetros manuais).

**Execução agendada:**

Se tem: 

```yaml
on:
  schedule:
    - cron: '0 0 * * *'
```
Ele roda automaticamente em intervalo fixo (exemplo: toda meia-noite UTC).

## Onde vejo os resultados?

Acesse a aba Actions do seu repositório.

Você verá uma lista de execuções (runs).

Cada execução tem:

- Status: ✅ sucesso, ❌ falha.

- Tempo de execução.

- Logs detalhados, com stdout/stderr dos comandos.

💡 Você pode baixar os logs, reexecutar (Re-run jobs), cancelar ou abortar workflows que estão pendurados.

## Fluxo REAL de execução

Imagine este fluxo real:

1️⃣ Você faz push pra main.
2️⃣ GitHub Actions lê o seu ci.yml.
3️⃣ on: push detecta o evento.
4️⃣ GitHub aloca um Hosted Runner (ex: ubuntu-latest).
5️⃣ Runner clona o repositório → roda cada step sequencialmente.
6️⃣ Cada step:

Se for uses: ➜ Baixa e executa uma Action da marketplace.

Se for run: ➜ Executa comando shell.
7️⃣ Termina → salva logs → mostra status no GitHub → destrói o runner.

Tudo automático.

## 📂 7️⃣ Como criar um workflow funcional — do zero

Aqui está o passo a passo mínimo pra rodar na prática:

```yaml

# .github/workflows/ci.yml

name: Pipeline de Exemplo

on:
  push:
    branches: [main]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout do código
        uses: actions/checkout@v4

      - name: Instala Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'

      - name: Instala dependências
        run: npm install

      - name: Roda testes
        run: npm test
```

O que faz:

    on: ➜ Roda no push em main ou manual.

    jobs: ➜ Um job build.

    runs-on: ➜ Hosted Runner Ubuntu.

    steps: ➜ Checkout ➜ Setup Node ➜ Instala ➜ Testa.


## Resumindo: o que VOCÊ controla?

| Você faz                 | O GitHub faz            |
| ------------------------ | ----------------------- |
| Cria `.yml`              | Provisiona runner       |
| Define `on:`             | Clona repo              |
| Escreve `jobs` + `steps` | Executa steps           |
| Sobe pro repo            | Salva logs, gera status |
| Pode rodar manual        | Destrói a VM depois     |

## Quero executar local: posso?

Curiosidade: Existem ferramentas como o act que simulam o Actions localmente usando Docker, mas não é oficial e não é obrigatório. Para desenvolver e testar, basta subir no repo que o Actions faz tudo no ambiente real, sem dor de cabeça

## Resposta final e clara

✅ Você NÃO precisa de servidor próprio.
✅ O GitHub Actions é um servidor CI/CD as a Service.
✅ Você só descreve o fluxo, faz push e pronto.
✅ Ele cuida do ambiente pra você.