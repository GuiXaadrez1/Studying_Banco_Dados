# Introdução

Este documento tem como objetivo explicar, de forma estruturada, os conceitos fundamentais de imagem de ambiente, container, sistema operacional, máquina física e correlatos.
Você entenderá o que são imagens (no contexto de computação), suas finalidades, tipos mais comuns e exemplos práticos.

Em computação, o termo imagem se refere a uma representação completa e reproduzível de um sistema, ambiente ou disco, que pode ser instanciada, clonada ou executada para reproduzir o mesmo estado.

Exemplos típicos incluem:

    ISOs de instalação de sistemas operacionais.

    Imagens de containers (como as do Docker).

    Snapshots de máquinas virtuais.

    Backups em formato de imagem de disco.

## O que é uma Imagem?

Em computação, uma imagem é uma cópia imutável e integral de um **sistema de arquivos ou de um disco**, com tudo que é necessário para inicializar ou executar um software, sistema operacional ou aplicação em um ambiente controlado.

No caso de containers (ex.: Docker):

    A imagem define tudo que o container precisa para rodar: sistema base (ex.: Ubuntu), dependências (ex.: Node.js), arquivos da aplicação, configurações padrão e instruções de inicialização. O arquivo para gerar a imagem é o DockerFile

No caso de ISOs:

    Uma imagem ISO é uma cópia bit a bit de um CD/DVD/USB de instalação, usada para instalar ou inicializar um sistema operacional.

No caso de snapshots de máquina virtual:

    Uma imagem de VM é um estado salvo de um disco virtual, incluindo sistema operacional, arquivos, configurações de rede e aplicações.

## Para que serve uma Imagem?

O principal propósito de uma imagem é permitir a reprodutibilidade — ou seja, garantir que o ambiente de execução seja idêntico, não importa onde ou quando for instanciado.

Principais usos:

    Provisionar ambientes padronizados: por exemplo, criar dezenas de containers idênticos em segundos.

    Facilitar deploy e escalabilidade: usando imagens de containers em clusters (ex.: Kubernetes).

    Distribuir sistemas operacionais: via ISOs oficiais para instalação em máquinas físicas ou virtuais.

    Backup/restauração: snapshots de disco para recuperação de desastres.

    Migração de máquinas: mover uma imagem de VM de um host físico para outro sem reinstalar tudo do zero.

## Tipos de Imagem

### 📂 1 - Imagem de Container

Exemplo: Docker, Podman, OCI.

Contém sistema base mínimo, bibliotecas, app e ponto de entrada.

Usada para rodar containers isolados.

### 📀 2 - Imagem ISO

Exemplo: ubuntu-22.04.iso.

Arquivo que contém todos os dados de um disco de instalação.

Usado para boot, instalação ou live OS.

### 📦 3 - Imagem de Máquina Virtual

Exemplo: .vmdk (VMware), .vdi (VirtualBox).

Snapshot de disco virtual de uma VM.

Inclui SO, configurações, apps.

### 💾 4 - Imagem de Disco / Backup

Exemplo: Clonezilla, Acronis, GHOST.

Cópia bit a bit de um disco físico.

Usada para restaurar o estado exato de uma máquina.

## ☁️ 5 - Imagem de Ambiente em Nuvem

Exemplo: Amazon AMI, Google Cloud Image, Azure VM Image.

Base para criar instâncias escaláveis na nuvem.

Geralmente customizada com pacotes e configurações específicas.

## No caso dos containers — o Dockerfile é o blueprint da imagem

### 📌 O que é o Dockerfile?

É um arquivo de texto com instruções declarativas, que define passo a passo como construir uma imagem de container.

Ele não é a imagem em si — é o roteiro que o Docker segue para gerar a imagem imutável.

Cada instrução (FROM, RUN, COPY, CMD...) cria uma camada na imagem final.

### ⚙️ Fluxo resumido

| Etapa                | O que faz                                                                                            |
| -------------------- | ---------------------------------------------------------------------------------------------------- |
| 📄 **1. Dockerfile** | Você escreve instruções declarando **o que precisa estar na imagem**.                                |
| 🏗️ **2. Build**     | Você roda `docker build` → o Docker lê o `Dockerfile` e gera a **imagem**.                           |
| 🚢 **3. Run**        | Você executa `docker run` → o Docker cria um **container**, que é a **instância viva** dessa imagem. |


📂 Exemplo real de Dockerfile

```Dockerfile
# Usa imagem base oficial do Node.js
FROM node:20

# Define diretório de trabalho dentro do container
WORKDIR /app

# Copia o código fonte para dentro da imagem
COPY . .

# Instala dependências
RUN npm install

# Comando padrão quando o container iniciar
CMD ["node", "index.js"]
```

### ⚙️ Como gerar a imagem

```bash

docker build -t meu-node-app:1.0 .

-t → nome e tag da imagem.

. → contexto de build (onde está o Dockerfile e o código).
```

###⚡ Resultado
O Dockerfile vira uma imagem Docker (meu-node-app:1.0).

Essa imagem é imutável.

Sempre que rodar:

```bash
docker run meu-node-app:1.0
```
você cria um container novo, instanciado dessa imagem, com o ambiente exatamente igual.

### 📌 Resumo — Containers

| Elemento       | Descrição                               |
| -------------- | --------------------------------------- |
| **Dockerfile** | Roteiro declarativo para gerar a imagem |
| **Imagem**     | Resultado do build, snapshot imutável   |
| **Container**  | Instância viva da imagem, executa o app |

### 🧩 Ponto chave

Dockerfile = Receita

docker build = Cozinha

Imagem = Prato pronto

docker run = Servir o prato


