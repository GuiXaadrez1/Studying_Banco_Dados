# Introdução 
Este documetno visa explicar como funciona os parâmetros nas funções de maneira rápida e suncinta! 

## Sintaxe:

```sql
-- Criando a função de exemplo, stored function

CREATE OR REPLACE FUNCTION nome_funcao(VARCHAR parametro1, VARCHAR parametro2, ...)
RETURNS VARCHAR 
AS $$ 
    DECLARE
        -- declaração de variáveis, exmeplo var1 := valor; 
    BEGIN   
        -- Lógica de programação;
    END;
$$ Language plpgsql; 
```

**observações importantes!**

Se estiver fazendo uma função para um atributo, coluna de uma tabela em específico que existe no banco de dados e quiser passar este atributo como parâmetro, é interessante colocar o mesmo nome e tipo de domínio/ tipo de dado daquela coluna refente âquela Entidade (Tabela). 

Exemplo:
```sql

-- Colocando diretriz que ativa o fuso horário da sua região

SET TIME ZONE 'America/Sao_Paulo';

CREATE OR REPLACE TABLE professor(
    idprofessor INTEGER GENERATED ALWAYS IDENTITY PRIMARY KEY, 
    nome VARCHAR (255),
    dt_nasc DATE,
    salario DOUBLE PRECISION
);

-- Criando a função
CREATE OR REPLACE FUNCTION adicionarProfessor(
    idprofessor, 
    nome VARCHAR(255),
    dt_nasc DATE,
    salario DOUBLE PRECISION ) RETURNS VOID
AS $$ -- inicio delimitador do nosso código
    DECLARE
        -- declaração de variáveis
    BEGIN
        -- Lógica de programação    

        -- passando todos os valores que colocamos em parâmetro no velues
        INSERT INTO public.professor 
        VALUES(idprofessor,nome, dt_nasc, salario);
    END;
$$Language plpgsql; -- final do delimitador 

-- Chamando a função
SELECT adicionarProfessor(1,'João Silva','02-05-2025',5325.99);

-- Essa função vai retornar nada, pois ela retorna void
-- porem os dados foram inseridos, registrados na Entidade Professor
```

## Parâmetros de ENTADA E SAIDA = IN(OPCIONAL) ENTRADA, OUT SAIDA, INOUT ENTRADA/SAIDA

Usa-se quando:

- Queremos retornar mais de um valor, podemos fazê-lo utilizando parâmetros de saída,

- Os parâmetros de saída são identificados pela palavra reservada OUT

- É possível especificar todos os tipos de parâmetros:  
    
    IN - ENTRADA, QUANDO NÃO ESPECÍFICAMOS ISSO, POR PADRÃO É O DE ENTRADA.
    OUT - SAIDA
    INOUT - ENTRADA/SAIDA

**observação:** veja esses parâmetros de entrada,saida,entrada e saida da seguinte forma: 
    Parâmetros que são coletados pelos nossos parâmetros da função ENTRADA
    No return são de saida
    o mesmo valor que entra e sai pelo returns é de entrada e saida

###  Exemplos:

PARÂMETROS DE SAIDA:

```sql
CREATE OR REPLACE FUNCTION hi_lo(
    a NUMERIC, -- entrada por padrão se não especificarmos 
    b NUMERIC, -- entrada 
    c NUMERIC,  -- entrada 
        OUT hi NUMERIC, -- saida 
        OUT lo NUMERIC -- saida  
)AS $$ 
    BEGIN
        hi := GREATEST(a,b,c); -- essa função retorna o maior valor entre: a,b,c
        lo := LEAST(a,b,c); -- essa função retorna o menor valor entre: a,b,c
    END;
$$ Language plpgsql;
```
- Quando colocamos parâmetros de saida, o único return é o RETURNS RECORD, ou seja, é o mesmo que estivessemos escrevendo o mesmo. **RECORD** é um tipo múltiplo. como o de uma tupla. Ao usar parâmetros de saída, não é possível retornar nenhum outro tipo além do record

- Para chamar essa função, podmeos tanto chamar pelo SELECT nome_função, ou SELECT * FROM nome_função;


### Exemplo prático:

```sql

CREATE OR REPLACE function min_avg_max (OUT menor NUMERIC, OUT media NUMERIC, OUT maior numeric )
AS $$
    BEGIN
        /* lembre-se que o INTO usamos para atribuirmos o resultado do SELECT na
            variável de parâmetro que é de saida.
        */

        SELECT MIN(salario) FROM professor INTO menor;
        SELECT AVG(salario) FROM professor INTO media;
        SELECT MAX(salario) FROM professor INTO maior;
    END;
$$ Language plpgsql;


-- Mostrando as formas de chamar

SELECT min_avg_max ();

-- dessa forma o resultado é voltado como uma tupla/lista separado por vírgula.

SELECT * FROM min_avg_max ();

-- dessa forma o resultado é voltado em colunas

```
