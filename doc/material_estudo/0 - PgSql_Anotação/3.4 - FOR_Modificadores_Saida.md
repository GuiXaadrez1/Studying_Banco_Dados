# Introdu√ß√£o 
Este documento visa explicar alguns FOR que podem ser chaves para o plpgsql e at√© mesmo SQL.

## FOR UPDATE e FOR SHARE (PostgreSQL)

Estes s√£o modificadores de leitura com bloqueio, usados junto do SELECT:

  FOR UPDATE ‚Üí Bloqueia linhas para UPDATE/DELETE por outras transa√ß√µes.

  FOR SHARE ‚Üí Menos restritivo: permite m√∫ltiplos compartilharem o bloqueio de leitura, mas impede DELETE ou UPDATE destrutivos.

## Exemplo:

```sql

SELECT * FROM produto WHERE idproduto = 1 FOR UPDATE;
SELECT * FROM produto WHERE idproduto = 1 FOR SHARE;

```

**üí° Quem usa: Controle de concorr√™ncia em bancos PostgreSQL, Oracle, MySQL (InnoDB).**

### FOR em CURSOR ‚Äî dentro de PL/pgSQL

Aqui o FOR √© um la√ßo de repeti√ß√£o ‚Äî equivalente ao FOR de linguagens procedurais.

No PostgreSQL, dentro de fun√ß√µes PL/pgSQL, voc√™ faz la√ßos assim:

### FOR IN SELECT

```sql
-- O FOR em tuplas impl√≠citamente realiza um CURSOS no POSTGRESQL 
FOR rec IN SELECT * FROM produto LOOP
  -- faz algo com rec
END LOOP;
```

### FOR IN array_lower()..array_upper()

```sql
FOR i IN 1..10 LOOP
  -- loop de 1 a 10
END LOOP;
```

Esse FOR √© controle de fluxo procedural, n√£o √© DML nem DCL, faz parte do bloco procedural.

### FOR XML, FOR JSON ‚Äî no SQL Server

Em T-SQL (SQL Server), existe o FOR pra formatar resultados como XML ou JSON.

### ‚úÖ FOR XML
```sql
SELECT id, nome FROM produto FOR XML AUTO;
```

### ‚úÖ FOR JSON

```sql
SELECT id, nome FROM produto FOR JSON AUTO;
```
Esses FOR s√£o modificadores de sa√≠da, n√£o s√£o FOR de la√ßo nem de bloqueio.